---
title: 关系数据结构及形式化定义
date: 2022-04-20 10:04:04
tags:
- 数据库
categories:
- 数据库原理
- 关系数据库
---

讲解关系数据结构，包括关系的形式化定义及有关概念

<!--more-->

## 关系

### 域（domain）

**域** 是一组具有相同数据类型的值的集合



### 笛卡尔积（Cartesian Product）

给定一组域D1，D2，…，Dn，允许其中某些域是相同的。 

D1，D2，…，Dn的笛卡尔积为：

 `D1×D2×…×Dn＝｛（d1，d2，…，dn）｜di ∈ Di，i ＝ 1，2，…，n  ｝`

**元组**

> 笛卡尔积中每一个元素（d1，d2，…，dn）叫作一个n元组 （n-tuple）或简称元组

**分量**

> 笛卡尔积元素（d1，d2，…，dn）中的每一个值di 叫作一个 分量

**基数**

> 若Di（i＝1，2，…，n）为有限集，其基数为mi（i＝1， 2，…，n），则D1×D2×…×Dn的基数M为：
>
> M = Π(i: 1->n) mi



### 关系（relation）

**关系**

> D1×D2×…×Dn的子集叫作在域D1，D2，…，Dn上的 关系，表示为:
>
> `R（D1，D2，…，Dn）`
>
> R：关系名， n：关系的目或度（degree）

**元组**

> 关系中的每个元素是关系中的元组，通常用 ***t*** 表示

**单元关系与二元关系**

>当n=1时，称该关系为单元关系（Unary relation） 或一元关系
>当n=2时，称该关系为二元关系（Binary relation）

**关系的表示**

> 关系也是一个二维表，表的每行对应一个元组，表的每列对应一个域

**属性**

> 为了加以区分，必须对每列起一个名字，称为属性

**码**

- 候选码（candidate key）

> 若关系中的某一属性组的值能*唯一*地标识一个元组，而其真子集不能，则称该属性组为候选码 简单的情况：候选码只包含一个属性

- 全码（All-key）

  > 最极端的情况：关系模式的*所有*属性组是这个关系模式的候选码，称为全码（All-key）

- 主码

  > 若一个关系有多个候选码，则选定其中一个为主码（Primary key）

- 主属性

  > 候选码的诸属性称为主属性（Prime attribute） 不包含在任何侯选码中的属性称为非主属性（Non-Prime attribute）或非码属性（Non-key attribute

## 关系模式

关系模式是 *型* ，关系是 *值* 。
关系模式是对关系的描述

**关系模式可以形式化地表示为：**

> R（U，D，DOM，F） 
>
> R		  关系名
> U 	 	组成该关系的属性名集合
> D	  	U中属性所来自的域 
> DOM    属性向域的映象集合 
> F		  属性间数据的依赖关系的集合

**关系模式通常可以简记为：**

> R (U) 或 R (A1，A2，…，An)
>
> - R: 关系名
>
> - A1，A2，…，An : 属性名
>
>   注：域名及属性向域的映象常常直接说明为 属性的类型、长度

## 关系数据库

- 在一个给定的应用领域中，所有关系的集合构成一个 ***关系数据库***
- 关系数据库的型: 关系数据库模式，是对关系数据库的描述
- 关系数据库的值: 关系模式在某一时刻对应的关系的集合，通常称为关系数据库

## 关系模型的存储结构

- 有的关系数据库管理系统中一个表对应一个操作系统 文件，将物理数据组织交给操作系统完成
- 有的关系数据库管理系统从操作系统那里申请若干个 大的文件，自己划分文件空间，组织表、索引等存储 结构，并进行存储管理

